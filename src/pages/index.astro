---
// Target date: 3 months from now
const TARGET_DATE = new Date();
TARGET_DATE.setMonth(TARGET_DATE.getMonth() + 5);
const TARGET_DATE_ISO = TARGET_DATE.toISOString();
import '../styles/global.css';

import LogoSinFondo from '../assets/bimooralogo-sinfondo.png'
// Structured Data for SEO
const structuredData = {
	"@context": "https://schema.org",
	"@type": "SoftwareApplication",
	"name": "Bimoora",
	"applicationCategory": "LifestyleApplication",
	"operatingSystem": "iOS, Android",
	"description": "Un espacio privado para dos: notas, recuerdos y un diario inteligente que cuida su conexión cada día.",
	"offers": {
		"@type": "Offer",
		"price": "0",
		"priceCurrency": "USD"
	},
	"aggregateRating": {
		"@type": "AggregateRating",
		"ratingValue": "4.9",
		"ratingCount": "10000"
	}
};
---



<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="generator" content={Astro.generator} />
		
		<!-- Primary Meta Tags -->
		<title>Bimoora — Donde el amor deja memoria | App para Parejas</title>
		<meta name="title" content="Bimoora — Donde el amor deja memoria | App para Parejas" />
		<meta name="description" content="Bimoora: un espacio privado para dos. App para parejas con notas, recuerdos y diario inteligente que cuida tu conexión cada día. Descubre donde el amor deja memoria." />
		<meta name="keywords" content="app para parejas, diario de pareja, notas de amor, recuerdos de pareja, app de relación, diario inteligente, espacio privado parejas, Bimoora" />
		<meta name="author" content="Bimoora" />
		<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
		<meta name="language" content="Spanish" />
		<meta name="revisit-after" content="7 days" />
		<meta name="theme-color" content="#A89CFF" />
		
		<!-- Canonical URL -->
		<link rel="canonical" href="https://bimoora.com" />
		
		<!-- Open Graph / Facebook -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://bimoora.com" />
		<meta property="og:title" content="Bimoora — Donde el amor deja memoria | App para Parejas" />
		<meta property="og:description" content="Un espacio privado para dos: notas, recuerdos y un diario inteligente que cuida su conexión cada día." />
		<meta property="og:image" content={LogoSinFondo.src} />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta property="og:image:alt" content="Bimoora - Donde el amor deja memoria" />
		<meta property="og:site_name" content="Bimoora" />
		<meta property="og:locale" content="es_ES" />
		
		<!-- Twitter -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:url" content="https://bimoora.com" />
		<meta name="twitter:title" content="Bimoora — Donde el amor deja memoria | App para Parejas" />
		<meta name="twitter:description" content="Un espacio privado para dos: notas, recuerdos y un diario inteligente que cuida su conexión cada día." />
		<meta name="twitter:image" content={LogoSinFondo.src} />
		<meta name="twitter:image:alt" content="Bimoora - Donde el amor deja memoria" />
		
		<!-- Favicon -->
		<link rel="icon" type="image/png" href={LogoSinFondo.src} />
		<link rel="apple-touch-icon" href={LogoSinFondo.src} />
		
		<!-- Preconnect for performance -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
		
		<!-- Structured Data (JSON-LD) -->
		<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
	</head>
	<body>
		<main class="min-h-screen bg-[#FDFBFF] flex flex-col items-center justify-center px-6 relative overflow-hidden">
			<!-- Background gradient orbs -->
			<div class="absolute top-0 left-1/4 w-[600px] h-[600px] bg-[#E8D4F8]/30 rounded-full blur-3xl -translate-y-1/2 animate-pulse-slow" />
			<div class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-[#A89CFF]/20 rounded-full blur-3xl translate-y-1/2 animate-pulse-slow" style="animation-delay: 1s;" />
			<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-[#FFC8DD]/15 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 2s;" />
			
			<!-- Decorative particles -->
			<div class="absolute top-20 right-20 w-2 h-2 bg-[#A89CFF]/40 rounded-full animate-twinkle" style="animation-delay: 0s;"></div>
			<div class="absolute top-40 left-20 w-1.5 h-1.5 bg-[#FF8FAB]/40 rounded-full animate-twinkle" style="animation-delay: 1.5s;"></div>
			<div class="absolute bottom-40 right-32 w-2 h-2 bg-[#E8D4F8]/50 rounded-full animate-twinkle" style="animation-delay: 3s;"></div>
			<div class="absolute bottom-20 left-32 w-1.5 h-1.5 bg-[#8EC5FC]/40 rounded-full animate-twinkle" style="animation-delay: 2s;"></div>

			<!-- Floating Cards Container - Se llenará dinámicamente -->
			<div id="floating-cards-container"></div>

			<div class="relative z-30 flex flex-col items-center text-center max-w-2xl">
			

				<!-- Brand name -->
				<h1 class="text-4xl md:text-5xl lg:text-6xl font-semibold text-[#1E1B4B] mb-2 animate-fade-in-up drop-shadow-sm" style="animation-delay: 0.1s;">
					<span class="bg-gradient-to-r from-[#1E1B4B] via-[#A89CFF] to-[#1E1B4B] bg-clip-text text-transparent bg-[length:200%_auto] animate-gradient">Bimoora</span>
				</h1>

				<!-- Coming soon text -->
				<p class="text-2xl md:text-3xl lg:text-4xl font-medium text-[#A89CFF] mb-4 animate-fade-in-up" style="animation-delay: 0.2s;">
					Próximamente
				</p>

				<p class="text-[#6B7280] text-lg md:text-xl mb-12 max-w-md leading-relaxed animate-fade-in-up" style="animation-delay: 0.3s;">
					Un espacio privado para dos. Donde el amor deja memoria.
				</p>

				<!-- Countdown -->
				<div class="flex gap-3 md:gap-6 mb-12 animate-fade-in-up" id="countdown" style="animation-delay: 0.4s;">
					<div class="flex flex-col items-center countdown-item">
						<div class="w-16 h-16 md:w-24 md:h-24 rounded-2xl bg-white shadow-lg shadow-[#A89CFF]/10 border border-[#E8D4F8]/50 flex items-center justify-center mb-2 hover:scale-110 hover:shadow-xl hover:shadow-[#A89CFF]/20 transition-all duration-300">
							<span class="text-2xl md:text-4xl font-semibold text-[#1E1B4B]" id="days">--</span>
						</div>
						<span class="text-xs md:text-sm text-[#6B7280] font-medium">Días</span>
					</div>
					<div class="flex flex-col items-center countdown-item">
						<div class="w-16 h-16 md:w-24 md:h-24 rounded-2xl bg-white shadow-lg shadow-[#A89CFF]/10 border border-[#E8D4F8]/50 flex items-center justify-center mb-2 hover:scale-110 hover:shadow-xl hover:shadow-[#A89CFF]/20 transition-all duration-300">
							<span class="text-2xl md:text-4xl font-semibold text-[#1E1B4B]" id="hours">--</span>
						</div>
						<span class="text-xs md:text-sm text-[#6B7280] font-medium">Horas</span>
					</div>
					<div class="flex flex-col items-center countdown-item">
						<div class="w-16 h-16 md:w-24 md:h-24 rounded-2xl bg-white shadow-lg shadow-[#A89CFF]/10 border border-[#E8D4F8]/50 flex items-center justify-center mb-2 hover:scale-110 hover:shadow-xl hover:shadow-[#A89CFF]/20 transition-all duration-300">
							<span class="text-2xl md:text-4xl font-semibold text-[#1E1B4B]" id="minutes">--</span>
						</div>
						<span class="text-xs md:text-sm text-[#6B7280] font-medium">Minutos</span>
					</div>
					<div class="flex flex-col items-center countdown-item">
						<div class="w-16 h-16 md:w-24 md:h-24 rounded-2xl bg-white shadow-lg shadow-[#A89CFF]/10 border border-[#E8D4F8]/50 flex items-center justify-center mb-2 hover:scale-110 hover:shadow-xl hover:shadow-[#A89CFF]/20 transition-all duration-300">
							<span class="text-2xl md:text-4xl font-semibold text-[#1E1B4B]" id="seconds">--</span>
						</div>
						<span class="text-xs md:text-sm text-[#6B7280] font-medium">Segundos</span>
					</div>
				</div>

				<!-- Notify me section -->
				<div class="w-full max-w-md animate-fade-in-up" style="animation-delay: 0.5s;">
					<p class="text-sm md:text-base text-[#6B7280] mb-4 font-medium">
						Sé el primero en saber cuando lancemos
					</p>
					<form class="flex flex-col sm:flex-row gap-3" id="notify-form">
						<input
							type="email"
							placeholder="tu@email.com"
							required
							id="email-input"
							class="flex-1 px-4 py-3 rounded-xl border border-[#E8D4F8] bg-white text-[#1E1B4B] placeholder:text-[#9CA3AF] focus:outline-none focus:ring-2 focus:ring-[#A89CFF]/50 focus:border-[#A89CFF] transition-all hover:border-[#A89CFF]/70 hover:shadow-md"
						/>
						<button
							type="submit"
							id="submit-button"
							class="button-hover w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-[#A89CFF] to-[#E8D4F8] text-white font-medium rounded-xl active:opacity-75 transition-all duration-300 shadow-lg shadow-[#A89CFF]/25 flex items-center justify-center gap-2 min-w-[140px] text-sm md:text-base relative overflow-hidden group"
						>
							<span id="button-text">Notificarme</span>
							<span id="button-spinner" class="hidden">
								<svg class="animate-spin h-4 w-4 md:h-5 md:w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
									<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
									<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
								</svg>
							</span>
						</button>
					</form>
				</div>

				<!-- Toast Notification -->
				<div id="toast" class="fixed top-4 md:top-6 left-1/2 transform -translate-x-1/2 z-50 hidden w-[calc(100%-2rem)] max-w-sm md:max-w-md">
					<div class="bg-white rounded-xl shadow-soft-lg border border-[#E8D4F8] px-4 py-3 md:px-6 md:py-4 flex items-center gap-2 md:gap-3 animate-slide-down">
						<div id="toast-icon" class="flex-shrink-0">
							<!-- Icono se inserta aquí -->
						</div>
						<p id="toast-message" class="text-xs md:text-sm font-medium text-[#1E1B4B] flex-1"></p>
					</div>
				</div>

				<!-- Loading Overlay -->
				<div id="loading-overlay" class="fixed inset-0 bg-[#FDFBFF]/80 backdrop-blur-sm z-40 hidden items-center justify-center p-4">
					<div class="bg-white rounded-2xl shadow-soft-lg p-6 md:p-8 flex flex-col items-center gap-3 md:gap-4 w-full max-w-xs md:max-w-sm">
						<div class="relative">
							<div class="w-12 h-12 md:w-16 md:h-16 border-4 border-[#E8D4F8] border-t-[#A89CFF] rounded-full animate-spin"></div>
							<div class="absolute inset-0 flex items-center justify-center">
								<svg class="w-6 h-6 md:w-8 md:h-8 text-[#A89CFF]" fill="currentColor" viewBox="0 0 24 24">
									<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
								</svg>
							</div>
						</div>
						<p class="text-sm md:text-base text-[#1E1B4B] font-medium text-center">Enviando tu solicitud...</p>
						<p class="text-xs md:text-sm text-[#6B7280] text-center">Un momento, por favor</p>
					</div>
				</div>
			</div>

			<!-- Footer -->
			<footer class="absolute bottom-6 text-sm md:text-base text-[#9CA3AF] font-medium">
				Donde el amor deja memoria
			</footer>
		</main>

		<script define:vars={{ targetDateISO: TARGET_DATE_ISO }}>
			// Target date: 3 months from now
			const targetDateObj = new Date(targetDateISO);

			function calculateTimeLeft() {
				const difference = targetDateObj.getTime() - new Date().getTime();

				if (difference <= 0) {
					return { days: 0, hours: 0, minutes: 0, seconds: 0 };
				}

				return {
					days: Math.floor(difference / (1000 * 60 * 60 * 24)),
					hours: Math.floor((difference / (1000 * 60 * 60)) % 24),
					minutes: Math.floor((difference / 1000 / 60) % 60),
					seconds: Math.floor((difference / 1000) % 60),
				};
			}

			function updateCountdown() {
				const timeLeft = calculateTimeLeft();
				const daysEl = document.getElementById('days');
				const hoursEl = document.getElementById('hours');
				const minutesEl = document.getElementById('minutes');
				const secondsEl = document.getElementById('seconds');

				if (daysEl) daysEl.textContent = String(timeLeft.days).padStart(2, '0');
				if (hoursEl) hoursEl.textContent = String(timeLeft.hours).padStart(2, '0');
				if (minutesEl) minutesEl.textContent = String(timeLeft.minutes).padStart(2, '0');
				if (secondsEl) secondsEl.textContent = String(timeLeft.seconds).padStart(2, '0');
			}

			// Update immediately
			updateCountdown();

			// Update every second
			const timer = setInterval(updateCountdown, 1000);

			// Definir todas las cards disponibles con posiciones seguras
			const allCards = [
				{
					title: "Aniversario",
					subtitle: "En 5 días.",
					icon: "calendar",
					gradientFrom: "from-[#FFC8DD]",
					gradientTo: "to-[#FF8FAB]",
					desktopPosition: { left: "calc(50% - 420px)", top: "5rem" },
					mobilePosition: { left: "0.5rem", top: "0.5rem" } // Esquina superior izquierda
				},
				{
					title: "Racha activa",
					subtitle: "12 días juntos",
					icon: "heart",
					gradientFrom: "from-[#A89CFF]",
					gradientTo: "to-[#8EC5FC]",
					desktopPosition: { right: "calc(39% - 420px)", bottom: "10rem" },
					mobilePosition: { right: "0.5rem", bottom: "4rem" } // Esquina inferior derecha
				},
				{
					title: "Nueva nota",
					subtitle: "Hace 2 horas",
					icon: "message",
					gradientFrom: "from-[#FF8FAB]",
					gradientTo: "to-[#FFC8DD]",
					desktopPosition: { left: "calc(40% - 420px)", top: "16rem" },
					mobilePosition: { left: "0.5rem", top: "auto", bottom: "auto" } // Lado izquierdo, se ajustará dinámicamente
				},
				{
					title: "Recuerdo compartido",
					subtitle: "3 fotos nuevas",
					icon: "photo",
					gradientFrom: "from-[#8EC5FC]",
					gradientTo: "to-[#E0C3FC]",
					desktopPosition: { right: "calc(40% - 420px)", top: "12rem" },
					mobilePosition: { right: "0.5rem", top: "0.5rem" } // Esquina superior derecha
				},
				{
					title: "Momento especial",
					subtitle: "Hoy a las 3pm",
					icon: "star",
					gradientFrom: "from-[#E8D4F8]",
					gradientTo: "to-[#A89CFF]",
					desktopPosition: { left: "calc(40% - 420px)", bottom: "16rem" },
					mobilePosition: { left: "0.5rem", bottom: "4rem" } // Esquina inferior izquierda
				},
				{
					title: "Sorpresa",
					subtitle: "¡Próximamente!",
					icon: "gift",
					gradientFrom: "from-[#FFC8DD]",
					gradientTo: "to-[#E8D4F8]",
					desktopPosition: { right: "calc(32% - 420px)", top: "24rem" },
					mobilePosition: { right: "0.5rem", top: "auto", bottom: "auto" } // Lado derecho, se ajustará dinámicamente
				},
				
			];

			// Iconos SVG
			const icons = {
				calendar: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>`,
				heart: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></svg>`,
				star: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" /></svg>`,
				message: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>`,
				photo: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>`,
				gift: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>`,
				sparkles: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>`
			};

			// Función para mezclar array (Fisher-Yates)
			function shuffleArray(array) {
				const shuffled = [...array];
				for (let i = shuffled.length - 1; i > 0; i--) {
					const j = Math.floor(Math.random() * (i + 1));
					[shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
				}
				return shuffled;
			}

			// Seleccionar 3-4 cards aleatoriamente (solo para móvil)
			function selectRandomCards() {
				const shuffled = shuffleArray(allCards);
				const numCards = Math.floor(Math.random() * 2) + 3; // 3 o 4 cards
				return shuffled.slice(0, numCards);
			}

			// Crear y renderizar las cards
			function renderCards() {
				const container = document.getElementById('floating-cards-container');
				if (!container) return;

				container.innerHTML = '';
				const isMobile = window.innerWidth < 768;

				// En móvil: mostrar 3-4 cards aleatorias en posiciones seguras
				// En desktop: mostrar todas las cards en sus posiciones originales
				const cardsToRender = isMobile ? selectRandomCards() : allCards;

				// Posiciones móviles seguras distribuidas en las esquinas
				const mobilePositions = [
					{ left: "1.5rem", top: "5.5rem" }, // Esquina superior izquierda
					{ right: "0.5rem", top: "1.5rem" }, // Esquina superior derecha
					{ left: "1.5rem", bottom: "4rem" }, // Esquina inferior izquierda
					{ right: "0.5rem", bottom: "6rem" }, // Esquina inferior derecha
				];

				cardsToRender.forEach((card, index) => {
					const cardElement = document.createElement('div');
					cardElement.className = 'absolute z-10 md:z-20 animate-float rounded-xl md:rounded-2xl bg-white p-2 md:p-4 shadow-soft-lg floating-card group';
					cardElement.style.animationDelay = `${(index + 1) * 0.5}s`;

					// En móvil usar posiciones seguras, en desktop usar posiciones originales
					const position = isMobile 
						? (mobilePositions[index % mobilePositions.length] || mobilePositions[0])
						: card.desktopPosition;

					// Aplicar posiciones
					if (position.left) cardElement.style.left = position.left;
					if (position.right) cardElement.style.right = position.right;
					if (position.top) cardElement.style.top = position.top;
					if (position.bottom) cardElement.style.bottom = position.bottom;

					cardElement.innerHTML = `
						<div class="flex items-center gap-1.5 md:gap-3">
							<div class="flex h-6 w-6 md:h-10 md:w-10 items-center justify-center rounded-full bg-gradient-to-br ${card.gradientFrom} ${card.gradientTo} shadow-md transition-transform duration-300 floating-card-icon">
								${icons[card.icon] || icons.heart}
							</div>
							<div>
								<p class="text-[9px] md:text-xs text-[#4B445A] font-medium leading-tight">${card.title}</p>
								<p class="text-[10px] md:text-sm font-semibold text-[#1e2539] leading-tight">${card.subtitle}</p>
							</div>
						</div>
					`;

					container.appendChild(cardElement);
				});
			}

			// Renderizar cards al cargar
			renderCards();

			// Re-renderizar al redimensionar para ajustar posiciones
			let resizeTimeout;
			window.addEventListener('resize', () => {
				clearTimeout(resizeTimeout);
				resizeTimeout = setTimeout(() => {
					renderCards();
				}, 250);
			});

			// Handle form submission
			const form = document.getElementById('notify-form');
			const submitButton = document.getElementById('submit-button');
			const buttonText = document.getElementById('button-text');
			const buttonSpinner = document.getElementById('button-spinner');
			const emailInput = document.getElementById('email-input');
			const loadingOverlay = document.getElementById('loading-overlay');
			const toast = document.getElementById('toast');
			const toastIcon = document.getElementById('toast-icon');
			const toastMessage = document.getElementById('toast-message');

			function showToast(message, type = 'success') {
				if (!toast || !toastIcon || !toastMessage) return;

				const toastContainer = toast.querySelector('div');
				if (!toastContainer) return;

				// Limpiar icono anterior
				toastIcon.innerHTML = '';

				if (type === 'success') {
					toastIcon.innerHTML = `
						<svg class="w-5 h-5 md:w-6 md:h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
						</svg>
					`;
					toastContainer.classList.remove('border-red-200');
					toastContainer.classList.add('border-green-200');
				} else {
					toastIcon.innerHTML = `
						<svg class="w-5 h-5 md:w-6 md:h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
						</svg>
					`;
					toastContainer.classList.remove('border-green-200');
					toastContainer.classList.add('border-red-200');
				}

				toastMessage.textContent = message;
				toast.classList.remove('hidden');

				// Auto ocultar después de 4 segundos
				setTimeout(() => {
					toast.classList.add('hidden');
				}, 4000);
			}

			if (form && submitButton && emailInput && buttonText && buttonSpinner && loadingOverlay) {
				form.addEventListener('submit', async (e) => {
					e.preventDefault();
					const email = emailInput.value?.trim();

					if (!email) {
						showToast('Por favor, ingresa un email válido.', 'error');
						emailInput.focus();
						return;
					}

					// Mostrar estado de carga
					submitButton.disabled = true;
					buttonText.textContent = 'Enviando...';
					buttonSpinner.classList.remove('hidden');
					submitButton.classList.add('opacity-75', 'cursor-not-allowed');
					loadingOverlay.classList.remove('hidden');
					loadingOverlay.classList.add('flex');

					try {
						const response = await fetch('/api/subscribe', {
							method: 'POST',
							headers: {
								'Content-Type': 'application/json',
							},
							body: JSON.stringify({ email }),
						});

						const data = await response.json();

						if (response.ok) {
							showToast(data.message || '¡Gracias! Te notificaremos cuando lancemos.', 'success');
							form.reset();
						} else {
							showToast(data.error || 'Hubo un error. Por favor, intenta de nuevo.', 'error');
						}
					} catch (error) {
						console.error('Error:', error);
						showToast('Hubo un error al enviar tu solicitud. Por favor, intenta de nuevo.', 'error');
					} finally {
						// Restaurar botón
						setTimeout(() => {
							submitButton.disabled = false;
							buttonText.textContent = 'Notificarme';
							buttonSpinner.classList.add('hidden');
							submitButton.classList.remove('opacity-75', 'cursor-not-allowed');
							loadingOverlay.classList.add('hidden');
							loadingOverlay.classList.remove('flex');
						}, 500);
					}
				});
			}
		</script>
	</body>
</html>
