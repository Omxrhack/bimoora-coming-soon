---
interface Props {
	title: string;
	subtitle: string;
	icon: string;
	gradientFrom: string;
	gradientTo: string;
	position: string;
	positionMobile?: string;
	animationDelay: string;
}

const { title, subtitle, icon, gradientFrom, gradientTo, position, positionMobile, animationDelay } = Astro.props;
const finalPosition = positionMobile || position;

// Iconos SVG
const icons: Record<string, string> = {
	calendar: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
	</svg>`,
	heart: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="currentColor" viewBox="0 0 24 24">
		<path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
	</svg>`,
	star: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="currentColor" viewBox="0 0 24 24">
		<path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
	</svg>`,
	message: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
	</svg>`,
	photo: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
	</svg>`,
	gift: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" />
	</svg>`,
	sparkles: `<svg class="h-3 w-3 md:h-5 md:w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
		<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
	</svg>`,
};
---

<div 
	class="absolute z-10 md:z-20 animate-float rounded-xl md:rounded-2xl bg-white p-2 md:p-4 shadow-soft-lg floating-card group"
	style={`animation-delay: ${animationDelay};`}
	data-mobile-position={positionMobile || position}
	data-desktop-position={position}
>
	<div class="flex items-center gap-1.5 md:gap-3">
		<div class={`flex h-6 w-6 md:h-10 md:w-10 items-center justify-center rounded-full bg-gradient-to-br ${gradientFrom} ${gradientTo} shadow-md transition-transform duration-300 floating-card-icon`}>
			<div set:html={icons[icon] || icons.heart} />
		</div>
		<div>
			<p class="text-[9px] md:text-xs text-[#4B445A] font-medium leading-tight">{title}</p>
			<p class="text-[10px] md:text-sm font-semibold text-[#1e2539] leading-tight">{subtitle}</p>
		</div>
	</div>
</div>
